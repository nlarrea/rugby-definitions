---
import TagsIcon from '@/components/icons/Tags.astro'
import type { DefinitionGroup } from '@/interfaces/definitions';

interface Props {
	data: DefinitionGroup[];
}

const { data } = Astro.props;
---

<>
{
    data.map((defGroup) => (
        <section>
            <h3 id={defGroup.letter}>{defGroup.letter}</h3>
            <div>
                {defGroup.definitions.map((def) => (
                    <header>
                        <h4>{def.name}</h4>
                        <div>
                            {def.tags.map((tag) => <span> <TagsIcon />{tag}</span>)}
                        </div>
                    </header>
                    <p>{def.definition}</p>
                ))}
            </div>
        </section>
    ))
}
</>

<style>
    section {
		header {
			display: flex;
			align-items: center;
			justify-content: space-between;

			h4 {
				margin: 0;
			}

			div {
				display: flex;
				align-items: center;
				justify-content: center;
				gap: 0.5em;

				span {
					padding: 0.25em 0.75em;

					font-size: 0.75em;
					display: flex;
					align-items: center;
					justify-content: center;
					gap: 0.3em;

					background-color: light-dark(
						hsl(from var(--light-bg) h s calc(l + 5)),
						hsl(from var(--dark-bg) h s calc(l + 5))
					);
					border-radius: 0.5em;

					svg {
						width: 1.2em;
						aspect-ratio: 1/1;
					}
				}
			}
		}

		p {
			margin-bottom: 2em;
		}
	}
</style>