---
import Layout from '@/layouts/Layout.astro';
import { getI18N } from '@/i18n';
import CircleArrowLeftIcon from '@/components/icons/CircleArrowLeft.astro';
import Image404 from '@/components/views/Image404.astro';

const { currentLocale } = Astro;
const i18n = getI18N({ currentLocale });
---

<Layout
	title={i18n.SEO.E404_TITLE}
	description={i18n.SEO.E404_DESCRIPTION}
	showNavbar={false}
	showFooter={false}
>
	<section>
		<article class='image-wrapper'>
			<Image404 />
		</article>

		<article class='content-wrapper'>
			<h1>{i18n.E404.TITLE}</h1>

			<p>
				<strong>{i18n.E404.STRONG_CONTENT}</strong>
				{i18n.E404.CONTENT}
			</p>

			<a href='/'>
				<span class='btn-text'>{i18n.E404.BUTTON}</span>
				<span class='btn-icon'><CircleArrowLeftIcon /></span>
			</a>
		</article>

		<svg
			xmlns='http://www.w3.org/2000/svg'
			viewBox='0 0 1440 320'
			class='down-waves'
		>
			<path
				fill='currentColor'
				fill-opacity='0.1'
				d='M0,224L14.1,218.7C28.2,213,56,203,85,170.7C112.9,139,141,85,169,74.7C197.6,64,226,96,254,90.7C282.4,85,311,43,339,21.3C367.1,0,395,0,424,37.3C451.8,75,480,149,508,197.3C536.5,245,565,267,593,272C621.2,277,649,267,678,234.7C705.9,203,734,149,762,144C790.6,139,819,181,847,186.7C875.3,192,904,160,932,133.3C960,107,988,85,1016,101.3C1044.7,117,1073,171,1101,170.7C1129.4,171,1158,117,1186,101.3C1214.1,85,1242,107,1271,112C1298.8,117,1327,107,1355,122.7C1383.5,139,1412,181,1426,202.7L1440,224L1440,320L1425.9,320C1411.8,320,1384,320,1355,320C1327.1,320,1299,320,1271,320C1242.4,320,1214,320,1186,320C1157.6,320,1129,320,1101,320C1072.9,320,1045,320,1016,320C988.2,320,960,320,932,320C903.5,320,875,320,847,320C818.8,320,791,320,762,320C734.1,320,706,320,678,320C649.4,320,621,320,593,320C564.7,320,536,320,508,320C480,320,452,320,424,320C395.3,320,367,320,339,320C310.6,320,282,320,254,320C225.9,320,198,320,169,320C141.2,320,113,320,85,320C56.5,320,28,320,14,320L0,320Z'
			></path>
		</svg>
	</section>
</Layout>

<style>
	section {
		width: min(100%, 900px);
		height: 100svh;
		padding: 2em;

		place-content: center;
		place-items: center;

		font-size: 16px;
	}

	article {
		z-index: 1;

		&.image-wrapper {
			float: left;
			padding-inline: 1em;
			z-index: 0;

			svg {
				width: 100%;
			}
		}

		&.content-wrapper {
			display: flex;
			flex-direction: column;
			justify-content: start;
			gap: 1em;

			z-index: 2;

			h1 {
				font-size: 2em;
			}

			strong {
				font-weight: 500;
			}

			p {
				text-wrap: pretty;
			}

			a {
				width: 212px;
				height: 50px;

				position: relative;
				overflow: hidden;

				font-weight: 500;
				text-decoration: none;
				color: inherit;
				transition: all 0.3s;

				display: flex;
				align-items: center;
				justify-content: center;

				border: 1px solid
					light-dark(var(--light-footer), var(--dark-accent));
				border-radius: 4px;
				background-color: light-dark(
					hsl(from var(--light-bg) h s calc(l - 5)),
					hsl(from var(--dark-bg) h s calc(l - 5))
				);

				.btn-text,
				.btn-icon {
					transition: all 0.3s;
				}

				.btn-icon {
					width: 53px;
					height: 100%;

					display: flex;
					align-items: center;
					justify-content: center;

					line-height: 1cap;
					background-color: light-dark(
						var(--light-footer),
						var(--dark-accent)
					);

					position: absolute;
					right: 0em;

					svg {
						color: light-dark(var(--light-bg), var(--dark-bg));
						pointer-events: none;
					}
				}

				.btn-text {
					text-wrap: nowrap;
					transform: translateX(-26px);
				}

				&:hover,
				&:focus {
					.btn-icon {
						width: 100%;
					}

					.btn-text {
						color: transparent;
					}
				}

				&:active {
					transform: scale(0.95);
				}
			}
		}
	}

	svg.down-waves {
		position: absolute;
		left: 0;
		bottom: 0;
		pointer-events: none;
	}

	@media screen and (max-width: 992px) {
		article.image-wrapper {
			float: none;
			padding: 1em;

			svg {
				max-height: 20vh;
			}
		}

		article.content-wrapper {
			text-align: center;

			p {
				text-wrap: balance;
			}

			a {
				margin-inline: auto;
			}
		}
	}

	@media screen and (max-width: 768px) {
		article.image-wrapper {
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);

			svg {
				max-height: unset;

				color: light-dark(var(--light-footer), var(--dark-accent));
				opacity: 0.15;
			}
		}
	}
</style>
